import { PrismaClient } from "@prisma/client"
import { hash } from "bcryptjs"

const prisma = new PrismaClient()

async function main() {
  console.log("üå± Iniciando seed do banco de dados...")

  const hashedPassword = await hash("admin123", 12)

  const admin = await prisma.user.upsert({
    where: { email: "admin@cursos.com" },
    update: {},
    create: {
      email: "admin@cursos.com",
      name: "Administrador",
      password: hashedPassword,
    },
  })

  console.log("üë§ Usu√°rio admin criado:", admin.email)

  const categories = [
    {
      name: "Tecnologia",
      slug: "tecnologia",
      description: "Cursos de programa√ß√£o, desenvolvimento e tecnologia",
    },
    {
      name: "Design",
      slug: "design",
      description: "Cursos de design gr√°fico, UX/UI e criatividade",
    },
    {
      name: "Marketing",
      slug: "marketing",
      description: "Cursos de marketing digital e estrat√©gias de vendas",
    },
    {
      name: "Neg√≥cios",
      slug: "negocios",
      description: "Cursos de empreendedorismo e gest√£o empresarial",
    },
  ]

  for (const category of categories) {
    await prisma.category.upsert({
      where: { slug: category.slug },
      update: {},
      create: category,
    })
  }

  console.log("üìÇ Categorias criadas")

  const techCategory = await prisma.category.findUnique({ where: { slug: "tecnologia" } })
  const designCategory = await prisma.category.findUnique({ where: { slug: "design" } })
  const marketingCategory = await prisma.category.findUnique({ where: { slug: "marketing" } })
  const businessCategory = await prisma.category.findUnique({ where: { slug: "negocios" } })

  const courses = [
    {
      title: "Desenvolvimento Web Completo",
      slug: "desenvolvimento-web-completo",
      description: "Aprenda HTML, CSS, JavaScript, React e Node.js do zero ao avan√ßado",
      content: `
        ## O que voc√™ vai aprender:
        
        ### M√≥dulo 1: Fundamentos
        - HTML5 sem√¢ntico
        - CSS3 e Flexbox/Grid
        - JavaScript ES6+
        
        ### M√≥dulo 2: Frontend
        - React.js
        - Next.js
        - TypeScript
        
        ### M√≥dulo 3: Backend
        - Node.js
        - Express.js
        - Banco de dados
        
        ### M√≥dulo 4: Deploy
        - Vercel
        - Netlify
        - AWS
      `,
      price: 297.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: techCategory!.id,
    },
    {
      title: "Design UX/UI Profissional",
      slug: "design-ux-ui-profissional",
      description: "Domine as ferramentas e metodologias de UX/UI Design",
      content: `
        ## Conte√∫do do curso:
        
        ### Fundamentos de UX
        - Pesquisa com usu√°rios
        - Personas e jornadas
        - Arquitetura da informa√ß√£o
        
        ### Design de Interface
        - Figma avan√ßado
        - Design System
        - Prototipagem
        
        ### Metodologias
        - Design Thinking
        - Lean UX
        - Testes de usabilidade
      `,
      price: 247.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: designCategory!.id,
    },
    {
      title: "Marketing Digital Estrat√©gico",
      slug: "marketing-digital-estrategico",
      description: "Estrat√©gias completas de marketing digital para alavancar seu neg√≥cio",
      content: `
        ## M√≥dulos do curso:
        
        ### Marketing de Conte√∫do
        - Cria√ß√£o de conte√∫do
        - SEO e otimiza√ß√£o
        - Blog e redes sociais
        
        ### Tr√°fego Pago
        - Google Ads
        - Facebook Ads
        - Instagram Ads
        
        ### Analytics
        - Google Analytics
        - M√©tricas importantes
        - ROI e convers√µes
      `,
      price: 197.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: marketingCategory!.id,
    },
    {
      title: "Empreendedorismo Digital",
      slug: "empreendedorismo-digital",
      description: "Como criar e escalar um neg√≥cio digital do zero",
      content: `
        ## Jornada do empreendedor:
        
        ### Valida√ß√£o de Ideia
        - Pesquisa de mercado
        - MVP (Produto M√≠nimo Vi√°vel)
        - Feedback de clientes
        
        ### Modelo de Neg√≥cio
        - Canvas de neg√≥cio
        - Precifica√ß√£o
        - Canais de venda
        
        ### Crescimento
        - Marketing digital
        - Vendas online
        - Escalabilidade
      `,
      price: 347.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: businessCategory!.id,
    },
    {
      title: "Python para Iniciantes",
      slug: "python-para-iniciantes",
      description: "Aprenda Python do b√°sico ao avan√ßado com projetos pr√°ticos",
      content: `
        ## Conte√∫do program√°tico:
        
        ### B√°sico
        - Sintaxe e vari√°veis
        - Estruturas de controle
        - Fun√ß√µes e m√≥dulos
        
        ### Intermedi√°rio
        - Orienta√ß√£o a objetos
        - Manipula√ß√£o de arquivos
        - APIs e requests
        
        ### Projetos
        - Sistema de cadastro
        - Web scraping
        - API REST
      `,
      price: 167.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: techCategory!.id,
    },
    {
      title: "Photoshop Avan√ßado",
      slug: "photoshop-avancado",
      description: "T√©cnicas avan√ßadas de edi√ß√£o e manipula√ß√£o de imagens",
      content: `
        ## T√©cnicas avan√ßadas:
        
        ### Edi√ß√£o Profissional
        - Corre√ß√£o de cores
        - Retoque de pele
        - Composi√ß√£o de imagens
        
        ### Efeitos Especiais
        - Manipula√ß√£o digital
        - Efeitos de luz
        - Texturas e patterns
        
        ### Workflow
        - Actions e automa√ß√£o
        - Organiza√ß√£o de layers
        - Exporta√ß√£o otimizada
      `,
      price: 127.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: designCategory!.id,
    },
    {
      title: "React.js Avan√ßado",
      slug: "react-js-avancado",
      description: "Domine React Hooks, Context API, Redux e padr√µes avan√ßados",
      content: `
        ## Conte√∫do avan√ßado:
        
        ### Hooks Avan√ßados
        - Custom hooks
        - useReducer e useCallback
        - useMemo e useRef
        
        ### Gerenciamento de Estado
        - Context API
        - Redux Toolkit
        - Zustand
        
        ### Padr√µes e Performance
        - Code splitting
        - Lazy loading
        - Memoiza√ß√£o
      `,
      price: 187.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: techCategory!.id,
    },
    {
      title: "Node.js e APIs REST",
      slug: "node-js-apis-rest",
      description: "Desenvolva APIs robustas com Node.js, Express e MongoDB",
      content: `
        ## Desenvolvimento Backend:
        
        ### Fundamentos Node.js
        - Event loop
        - M√≥dulos e NPM
        - Async/await
        
        ### Express.js
        - Middlewares
        - Rotas e controllers
        - Valida√ß√£o de dados
        
        ### Banco de Dados
        - MongoDB com Mongoose
        - Relacionamentos
        - Queries otimizadas
      `,
      price: 157.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: techCategory!.id,
    },
    {
      title: "TypeScript Completo",
      slug: "typescript-completo",
      description: "Aprenda TypeScript do zero e melhore a qualidade do seu c√≥digo",
      content: `
        ## TypeScript Profissional:
        
        ### Tipos B√°sicos
        - Primitivos
        - Arrays e objetos
        - Unions e intersections
        
        ### Tipos Avan√ßados
        - Generics
        - Utility types
        - Conditional types
        
        ### Integra√ß√£o
        - React + TypeScript
        - Node.js + TypeScript
        - Configura√ß√£o de projetos
      `,
      price: 137.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: techCategory!.id,
    },
    {
      title: "DevOps e Deploy",
      slug: "devops-deploy",
      description: "Aprenda CI/CD, Docker, Kubernetes e deploy automatizado",
      content: `
        ## DevOps na Pr√°tica:
        
        ### Containers
        - Docker b√°sico e avan√ßado
        - Docker Compose
        - Otimiza√ß√£o de imagens
        
        ### CI/CD
        - GitHub Actions
        - Jenkins
        - Deploy automatizado
        
        ### Cloud
        - AWS b√°sico
        - Kubernetes
        - Monitoramento
      `,
      price: 227.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: techCategory!.id,
    },
    {
      title: "Figma Masterclass",
      slug: "figma-masterclass",
      description: "Domine o Figma para criar interfaces profissionais e colaborativas",
      content: `
        ## Figma Profissional:
        
        ### Interface e Ferramentas
        - Workspace otimizado
        - Componentes e variantes
        - Auto layout e constraints
        
        ### Design System
        - Cria√ß√£o de bibliotecas
        - Tokens de design
        - Documenta√ß√£o
        
        ### Colabora√ß√£o
        - Prototipagem avan√ßada
        - Handoff para desenvolvedores
        - Versionamento
      `,
      price: 147.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: designCategory!.id,
    },
    {
      title: "Ilustra√ß√£o Digital",
      slug: "ilustracao-digital",
      description: "Crie ilustra√ß√µes profissionais com Procreate e Adobe Illustrator",
      content: `
        ## Ilustra√ß√£o Digital:
        
        ### Fundamentos
        - Teoria das cores
        - Composi√ß√£o
        - Anatomia b√°sica
        
        ### Ferramentas
        - Procreate (iPad)
        - Adobe Illustrator
        - Photoshop para ilustra√ß√£o
        
        ### Estilos
        - Flat design
        - Isom√©trico
        - Caricaturas
      `,
      price: 167.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: designCategory!.id,
    },
    {
      title: "Motion Design",
      slug: "motion-design",
      description: "Anima√ß√µes e motion graphics com After Effects e Lottie",
      content: `
        ## Motion Design:
        
        ### After Effects
        - Interface e ferramentas
        - Keyframes e easing
        - Express√µes b√°sicas
        
        ### Anima√ß√µes
        - Logo animations
        - UI/UX animations
        - Character animation
        
        ### Exporta√ß√£o
        - Lottie para web
        - V√≠deo otimizado
        - GIF animado
      `,
      price: 197.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: designCategory!.id,
    },
    {
      title: "Copywriting Avan√ßado",
      slug: "copywriting-avancado",
      description: "T√©cnicas de persuas√£o e escrita que convertem em vendas",
      content: `
        ## Copywriting Profissional:
        
        ### Psicologia da Persuas√£o
        - Gatilhos mentais
        - Escassez e urg√™ncia
        - Prova social
        
        ### Estruturas
        - AIDA (Aten√ß√£o, Interesse, Desejo, A√ß√£o)
        - PAS (Problema, Agita√ß√£o, Solu√ß√£o)
        - F√≥rmula 4P
        
        ### Aplica√ß√µes
        - Landing pages
        - Emails de vendas
        - An√∫ncios pagos
      `,
      price: 177.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: marketingCategory!.id,
    },
    {
      title: "Instagram Marketing",
      slug: "instagram-marketing",
      description: "Estrat√©gias completas para crescer e monetizar no Instagram",
      content: `
        ## Instagram Marketing:
        
        ### Crescimento Org√¢nico
        - Algoritmo do Instagram
        - Hashtags estrat√©gicas
        - Engajamento real
        
        ### Conte√∫do
        - Reels virais
        - Stories interativos
        - Carross√©is educativos
        
        ### Monetiza√ß√£o
        - Instagram Shopping
        - Lives de vendas
        - Parcerias e influenciadores
      `,
      price: 137.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: marketingCategory!.id,
    },
    {
      title: "Google Ads Completo",
      slug: "google-ads-completo",
      description: "Domine o Google Ads e otimize seus an√∫ncios para m√°ximo ROI",
      content: `
        ## Google Ads Profissional:
        
        ### Campanhas Search
        - Keywords research
        - Match types
        - Quality Score
        
        ### Campanhas Display
        - Segmenta√ß√£o avan√ßada
        - Remarketing
        - Similar audiences
        
        ### Otimiza√ß√£o
        - A/B testing
        - Bid strategies
        - Analytics e relat√≥rios
      `,
      price: 217.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: marketingCategory!.id,
    },
    {
      title: "Email Marketing",
      slug: "email-marketing",
      description: "Estrat√©gias de email marketing que convertem e engajam",
      content: `
        ## Email Marketing:
        
        ### Lista de Emails
        - Captura de leads
        - Segmenta√ß√£o
        - Automa√ß√£o
        
        ### Campanhas
        - Welcome series
        - Nurturing
        - Promocionais
        
        ### M√©tricas
        - Taxa de abertura
        - CTR e convers√µes
        - ROI por campanha
      `,
      price: 127.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: marketingCategory!.id,
    },
    {
      title: "Gest√£o Financeira",
      slug: "gestao-financeira",
      description: "Controle financeiro empresarial e planejamento estrat√©gico",
      content: `
        ## Gest√£o Financeira:
        
        ### Controle Financeiro
        - Fluxo de caixa
        - DRE simplificado
        - Indicadores financeiros
        
        ### Planejamento
        - Or√ßamento empresarial
        - Proje√ß√µes
        - An√°lise de viabilidade
        
        ### Investimentos
        - ROI e payback
        - Financiamento
        - Gest√£o de riscos
      `,
      price: 187.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: businessCategory!.id,
    },
    {
      title: "Vendas Online",
      slug: "vendas-online",
      description: "T√©cnicas de vendas digitais e funil de convers√£o",
      content: `
        ## Vendas Online:
        
        ### Funil de Vendas
        - Atra√ß√£o de leads
        - Nutri√ß√£o
        - Convers√£o
        
        ### T√©cnicas de Venda
        - Obje√ß√µes comuns
        - Gatilhos de compra
        - Follow-up
        
        ### Ferramentas
        - CRM
        - Automa√ß√£o
        - Analytics
      `,
      price: 157.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: businessCategory!.id,
    },
    {
      title: "Gest√£o de Equipes",
      slug: "gestao-equipes",
      description: "Lideran√ßa eficaz e gest√£o de pessoas em ambientes remotos",
      content: `
        ## Gest√£o de Equipes:
        
        ### Lideran√ßa
        - Estilos de lideran√ßa
        - Feedback eficaz
        - Delega√ß√£o
        
        ### Comunica√ß√£o
        - Reuni√µes produtivas
        - Ferramentas colaborativas
        - Resolu√ß√£o de conflitos
        
        ### Produtividade
        - Metodologias √°geis
        - OKRs
        - Cultura organizacional
      `,
      price: 197.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: businessCategory!.id,
    },
    {
      title: "E-commerce Completo",
      slug: "ecommerce-completo",
      description: "Como criar e gerenciar uma loja virtual de sucesso",
      content: `
        ## E-commerce:
        
        ### Plataformas
        - Shopify
        - WooCommerce
        - Nuvemshop
        
        ### Opera√ß√µes
        - Gest√£o de estoque
        - Log√≠stica
        - Atendimento ao cliente
        
        ### Marketing
        - SEO para e-commerce
        - Remarketing
        - Convers√£o de vendas
      `,
      price: 167.0,
      image: "/placeholder.svg?height=400&width=600",
      categoryId: businessCategory!.id,
    },
  ]

  for (const course of courses) {
    await prisma.course.upsert({
      where: { slug: course.slug },
      update: {},
      create: course,
    })
  }

  console.log("üìö Cursos criados")

  console.log("‚úÖ Seed conclu√≠do com sucesso!")
}

main()
  .then(async () => {
    await prisma.$disconnect()
  })
  .catch(async (e) => {
    console.error(e)
    await prisma.$disconnect()
    process.exit(1)
  })
